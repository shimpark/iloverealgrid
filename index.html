<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    <!-- iFrame -->
    <link href="/styles/iframe.css" rel="stylesheet" />

    <!-- RealGrid -->
    <link href="/realgrid/latest/realgrid-style.css" rel="stylesheet" />
    <script src="/realgrid/latest/realgrid-lic.js"></script>
    <script src="/realgrid/latest/realgrid.min.js"></script>
    <script src="/realgrid/latest/libs/jszip.min.js"></script>

    <!-- Custom -->
    <link href="./index.css" rel="stylesheet" />
    <script src="./index.js"></script>
  </head>

  <body>
    <!-- ν—¤λ” μ„Ήμ… -->
    <header class="app-header">
      <div class="header-content">
        <h1 class="app-title">RealGrid ν”„λ΅μ νΈ κ΄€λ¦¬</h1>
      </div>
    </header>

    <!-- λ©”μΈ μ»¨νΈλ΅¤ ν¨λ„ -->
    <main class="main-container">
      <!-- κ·Έλ¦¬λ“ μ»¨νΈλ΅¤ μ„Ήμ… -->
      <section class="control-section compact">
        <div class="control-group compact">
          <div class="button-group compact">
            <!-- νΈμ§‘ λ¨λ“ ν† κΈ€ λ²„νΌ -->
            <button
              class="btn btn-warning btn-compact"
              id="editModeToggleBtn"
              onclick="toggleEditMode()"
            >
              <span class="btn-icon">βοΈ</span>
              λ³΄κΈ°λ¨λ“
            </button>

            <button class="btn btn-secondary btn-compact" onclick="saveToServer()">
              <span class="btn-icon">π’Ύ</span>
              λ°μ΄ν„° μ €μ¥ (BACKEND)
            </button>
          </div>
        </div>
      </section>

      <!-- κ·Έλ¦¬λ“μ™€ κ°μΈν™” μ„¤μ •μ„ ν•¨κ» λ°°μΉ -->
      <section class="grid-section">
        <div class="section-header">
          <h2>ν”„λ΅μ νΈ λ°μ΄ν„°</h2>
          <p>ν”„λ΅μ νΈ μ •λ³΄λ¥Ό ν‘μ‹ν•κ³  νΈμ§‘ν•  μ μλ” κ·Έλ¦¬λ“μ…λ‹λ‹¤</p>
        </div>

        <div class="grid-container">
          <!-- κ°μΈν™” μ„¤μ • μ»¨νΈλ΅¤μ„ κ·Έλ¦¬λ“ μ„μ— λ°°μΉ -->
          <div class="personalization-controls">
            <div class="select-wrapper compact">
              <label for="personalizedList">μ €μ¥λ μ„¤μ •:</label>
              <select name="personalizedList" id="personalizedList" onchange="selectChange()">
                <option value="">μ„¤μ •μ„ μ„ νƒν•μ„Έμ”</option>
              </select>
            </div>

            <div class="button-group compact">
              <button class="btn btn-primary btn-compact" onclick="updatePersonalizedList()">
                <span class="btn-icon">π’Ύ</span>
                μ €μ¥
              </button>
              <button class="btn btn-success btn-compact" onclick="addPersonalizedList()">
                <span class="btn-icon">β•</span>
                μƒλ΅μ¶”κ°€
              </button>
              <button class="btn btn-danger btn-compact" onclick="removePersonalizedList()">
                <span class="btn-icon">π—‘οΈ</span>
                μ‚­μ 
              </button>
            </div>
          </div>

          <div id="realgrid"></div>
        </div>
      </section>
    </main>

    <!-- κ°μΈν™” μ„¤μ • λ¨λ‹¬ -->
    <div id="personalizationModal" class="modal" style="display: none">
      <div class="modal-content">
        <div class="modal-header">
          <h3>κ°μΈν™” μ„¤μ • μ €μ¥</h3>
          <span class="close" onclick="closePersonalizationModal()">&times;</span>
        </div>
        <div class="modal-body">
          <p>μ €μ¥ν•  κ°μΈν™” μ„¤μ •μ μ΄λ¦„μ„ μ…λ ¥ν•μ„Έμ”:</p>
          <input
            type="text"
            id="personalizationName"
            placeholder="μ: λ‚΄ μ‘μ—…ν™κ²½, ν”„λ΅μ νΈλ³„ λ·° λ“±"
            maxlength="50"
          />
          <div class="modal-buttons">
            <button onclick="confirmPersonalization()" class="btn-save">μ €μ¥</button>
            <button onclick="closePersonalizationModal()" class="btn-cancel">μ·¨μ†</button>
          </div>
        </div>
      </div>
    </div>

    <!-- κ°μΈν™” μ„¤μ • λ¨λ‹¬ -->
    <div id="personalizationModal" class="modal" style="display: none">
      <div class="modal-content">
        <div class="modal-header">
          <h3>κ°μΈν™” μ„¤μ • μ €μ¥</h3>
          <span class="close" onclick="closePersonalizationModal()">&times;</span>
        </div>
        <div class="modal-body">
          <p>μ €μ¥ν•  κ°μΈν™” μ„¤μ •μ μ΄λ¦„μ„ μ…λ ¥ν•μ„Έμ”:</p>
          <input
            type="text"
            id="personalizationName"
            placeholder="μ: λ‚΄ μ‘μ—…ν™κ²½, ν”„λ΅μ νΈλ³„ λ·° λ“±"
            maxlength="50"
          />
          <div class="modal-buttons">
            <button onclick="confirmPersonalization()" class="btn-save">μ €μ¥</button>
            <button onclick="closePersonalizationModal()" class="btn-cancel">μ·¨μ†</button>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
